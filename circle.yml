machine:
  python:
    version: 3.4.3
  environment:
    PROJECT_NAME: your_project
dependencies:
  override:
    - pip install -U pip
    - pip install "Django>=1.8.3,<1.9.0"
    - pip install invoke
    - pip install pip-tools
test:
  override:
    - cd $HOME && django-admin.py startproject --template=$HOME/django_template --extension=json,py,rst $PROJECT_NAME && cd $PROJECT_NAME && invoke pip_compile_all && pip-sync requirements/test.txt && python manage.py migrate --noinput && python manage.py test -v2 --settings ${PROJECT_NAME}.settings.test
